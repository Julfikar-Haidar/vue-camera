(function(e){function t(t){for(var a,i,o=t[0],c=t[1],u=t[2],p=0,f=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},4303:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("PhotoCapture",{model:{value:e.facecapture,callback:function(t){e.facecapture=t},expression:"facecapture"}})],1)},r=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isValid?n("section",{staticClass:"photo-capture fullAreaCapture",style:e.styling},[n("video",{directives:[{name:"show",rawName:"v-show",value:e.showVideo,expression:"showVideo"}],ref:"player",staticClass:"camera",attrs:{autoplay:"",playsinline:""}}),n("canvas",{directives:[{name:"show",rawName:"v-show",value:!e.showVideo,expression:"!showVideo"}],ref:"canvas",staticClass:"preview"}),n("div",{staticClass:"center photo-capture-actions"},[e.showVideo?n("div",[n("button",{class:"btn flex-center "+e.buttonsClasses,on:{click:function(t){return t.preventDefault(),e.capture(t)}}},[n("i",{staticClass:"fa fa-camera"}),e._v("Capture")]),n("button",{class:"btn flex-center "+e.buttonsClasses,on:{click:function(t){return t.preventDefault(),e.changeCamera(t)}}},[e._v("Switch Camera")])]):n("div",[n("div",{staticClass:"bottom-message white"},[n("button",{class:"btn "+e.buttonsClasses,on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v(e._s(e.cancelBtnContent))]),n("button",{class:"btn "+e.buttonsClasses,on:{click:function(t){return t.preventDefault(),e.done(t)}}},[e._v(e._s(e.doneBtnContent))])])])])]):e._e()},o=[],c=(n("4160"),n("159b"),{name:"PhotoCapture",props:{styling:{type:Object,isRequired:!1},value:{default:null},hideButtons:{type:Boolean,default:!1},buttonsClasses:{type:String,default:""},captureBtnContent:{},cancelBtnContent:{default:"Cancel"},doneBtnContent:{default:"Done"}},data:function(){return{showVideo:!0,picture:null,isValid:!0,isShow:!1,stepRep:null,useFrontCamera:!0}},mounted:function(){this.videoPlayer=this.$refs.player,this.canvasElement=this.$refs.canvas,this.stepRep=this.step,this.streamUserMediaVideo()},methods:{streamUserMediaVideo:function(){var e=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{facingMode:this.useFrontCamera?"user":"environment"}}).then((function(t){return e.videoPlayer.srcObject=t})).then((function(){e.isShow=!0})).catch((function(){e.isValid=!1}))},capture:function(){this.showVideo=!1,this.canvasElement.width=this.videoPlayer.videoWidth,this.canvasElement.height=this.videoPlayer.videoHeight;var e=this.canvasElement.getContext("2d");e.translate(this.canvasElement.width,0),e.scale(-1,1),e.drawImage(this.$refs.player,0,0),this.stopVideoStream(),this.picture=this.$refs.canvas.toDataURL()},done:function(){this.$emit("input",this.picture),this.showVideo=!0,this.streamUserMediaVideo()},cancel:function(){this.showVideo=!0,this.streamUserMediaVideo()},stopVideoStream:function(){console.log("128",this.$refs.player,this.$refs.player.srcObject),this.$refs.player&&this.$refs.player.srcObject&&(console.log("130",this.$refs.player,this.$refs.player.srcObject),this.$refs.player.srcObject.getVideoTracks().forEach((function(e){e.stop()})))},changeCamera:function(){alert("hi"),this.useFrontCamera=!this.useFrontCamera,this.streamUserMediaVideo(),console.log("138")}}}),u=c,l=(n("69f5"),n("2877")),p=Object(l["a"])(u,i,o,!1,null,"695bb860",null),f=p.exports,d={name:"App",components:{PhotoCapture:f},data:function(){return{facecapture:null}}},h=d,v=Object(l["a"])(h,s,r,!1,null,null,null),m=v.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(m)}}).$mount("#app")},"69f5":function(e,t,n){"use strict";n("4303")}});
//# sourceMappingURL=app.e5df4b33.js.map